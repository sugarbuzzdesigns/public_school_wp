/*
 * Bones Scripts File
 * Author: Eddie Machado
 *
 * This file should contain any js scripts you want to add to the site.
 * Instead of calling it in the header or throwing it inside wp_head()
 * this file will be called automatically in the footer so as not to
 * slow the page load.
 *
 * There are a lot of example functions and tools in here. If you don't
 * need any of it, just remove it. They are meant to be helpers and are
 * not required. It's your world baby, you can do whatever you want.
 */
function debounce(a,b,c){var d;return function(){var e=this,f=arguments,g=function(){d=null,c||a.apply(e,f)},h=c&&!d;clearTimeout(d),d=setTimeout(g,b),h&&a.apply(e,f)}}/*
 * Get Viewport Dimensions
 * returns object with viewport dimensions to match css in width and height properties
 * ( source: http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript )
 */
function updateViewportDimensions(){var a=window,b=document,c=b.documentElement,d=b.getElementsByTagName("body")[0],e=a.innerWidth||c.clientWidth||d.clientWidth,f=a.innerHeight||c.clientHeight||d.clientHeight;return{width:e,height:f}}var PS={},viewport=updateViewportDimensions(),waitForFinalEvent=function(){var a={};return function(b,c,d){d||(d="Don't call this twice without a uniqueId"),a[d]&&clearTimeout(a[d]),a[d]=setTimeout(b,c)}}(),timeToWaitForLast=100;$(window).on("resize",function(){});var PS={},PS=PS||{};!function(a){PS.Highlighter={init:function(){this.mobile=WURFL.is_mobile,this.$paper=a(".paper"),this.$paperWrap=a(".paper-wrap"),this.$hlToolbar=a(".highlighter-sessions-toolbar"),this.$win=a(window),this.winHeight=this.$win.outerHeight(),this.hlToolbarHeight=this.$hlToolbar.outerHeight(),this.paperHeight=null,this.bindEvents(),this.initPaper(),this.mobile&&"Tablet"!=WURFL.form_factor&&this.runExample()},bindEvents:function(){var b=this;b.mobile&&"Tablet"!=WURFL.form_factor?a("mark").click(function(){a(this).is(".show-phrase")?b.resetPhrase(this):b.showPhrase(this)}):a("mark").hover(function(){b.showPhrase(this)},function(){b.resetPhrase(this)}),a(".menu-btn .info, .close-menu").click(function(){a("body").is(".mobile-menu-open")?b.closeMobileMenu():b.openMobileMenu()}),a(".toggle-paper").on("click",function(){b.togglePaper(this)}),a(window).on("resize",b.resizeDebounceFunc).resize()},resizeDebounceFunc:debounce(function(){window.getComputedStyle(document.querySelector("body"),":after")},250),initPaper:function(){a(".paper mark").each(function(){var b,c=a(this),d=(a(this).find(".text"),c.data("gif"),a('<span class="text"></span>')),e=c.html();c.empty(),txtarr=e.split(" "),d.appendTo(c),a(txtarr).each(function(d,e){b=a("<span><em>"+e+"</em></span>"),b.appendTo(c.find(".text"))})}),this.mobile&&"Tablet"!=WURFL.form_factor?a(".paper").css({top:this.winHeight-a(".paper").outerHeight()}):a(".paper").css({opacity:1})},runExample:function(){var b=this;b.$paper.addClass("example"),a("mark").eq(0).addClass("show-phrase"),setTimeout(function(){a("mark").eq(0).removeClass("show-phrase"),setTimeout(function(){b.$paper.removeClass("example")},500)},1e3)},togglePaper:function(){a(".paper").hasClass("show-me")?(a(".toggle-paper").removeClass("open"),a(".paper").removeClass("show-me"),a("section").not("#header").show(),this.$paperWrap.css({top:this.winHeight-a(".paper").outerHeight()})):(a(".toggle-paper").addClass("open"),a(".paper").addClass("show-me"),a("section").not("#header").hide(),this.$paperWrap.css({top:a(".highlighter-sessions-toolbar").offset().top+a(".highlighter-sessions-toolbar").height()}),a("body, html").animate({scrollTop:a(".highlighter-sessions-toolbar").offset().top}))},openMobileMenu:function(){a(".mobile-menu").css("height",window.innerHeight),a("body").addClass("mobile-menu-open")},closeMobileMenu:function(){a("body").removeClass("mobile-menu-open")},showPhrase:function(b){var c=this,d=a(b),e=(a("mark",d),window.location.href+"/images/gifs/"),f=e+d.data("gif");d.addClass("show-phrase"),c.mobile&&"Tablet"!=WURFL.form_factor||a(".giffify").css({"background-image":"url("+f+")",opacity:.5})},resetPhrase:function(b){var c=a(b);c.removeClass("show-phrase"),a(".giffify").css({opacity:0})},resetAllPhrases:function(){a("show-phrase").removeClass("show-phrase"),a(".giffify").css({opacity:0})}},a(function(){PS.Highlighter.init()})}(jQuery);var PS=PS||{};!function(a){PS.Contact={init:function(){this.startLetters=a(".letters span"),this.endLetters=a(".letters-hover li"),this.setLetterPositions()},bindEvents:function(){},setLetterPositions:function(){this.startLetters.each(function(b,c){a(c).data("position",a(c).offset())}),this.endLetters.each(function(b,c){a(c).data("position",a(c).offset())})}},a(function(){PS.Contact.init()})}(jQuery);var PS=PS||{};!function(a){PS.WaypointSetup={init:function(){this.bindEvents()},bindEvents:function(){_this=this,
// waypoint notification for each section
a("#overview").waypoint({handler:function(b){"down"===b&&a(".contact-butter-bar").addClass("show")},offset:"85%;"}),a("#header").waypoint({handler:function(b){"up"===b&&a(".contact-butter-bar").removeClass("show")},offset:"-20%"}),a(".footer").waypoint({handler:function(b){"up"===b?a(".contact-butter-bar").addClass("show"):a(".contact-butter-bar").removeClass("show")},offset:"100%"}),
// waypoint notification city elemnts are IN view
a("#contact .city").waypoint({handler:function(b){a(this.element).addClass("animate")},offset:a(window).height()-a(".city").height()/2}),
// waypoint notification city elemnts are OUT OF view
a("#contact .city").waypoint({handler:function(b){a(this.element).removeClass("animate")},offset:"-50%"})}},a(function(){PS.WaypointSetup.init()})}(jQuery);